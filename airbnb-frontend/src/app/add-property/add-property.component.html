<div class="add-property-container">
  <h2>üè† Add New Property</h2>

  <!-- Property Title -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Title</mat-label>
    <input matInput [(ngModel)]="property.title"  required placeholder="Enter property title" />
  </mat-form-field>

  <!-- Description -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Description</mat-label>
    <textarea matInput [(ngModel)]="property.description"  required placeholder="Enter property description"></textarea>
  </mat-form-field>

  <!-- Property Type -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Property Type</mat-label>
    <mat-select [(ngModel)]="property.propertyType">
      <mat-option value="HOUSE"  required >House</mat-option>
      <mat-option value="HOTEL" required >Hotel</mat-option>
      <mat-option value="FARM" required >Farm</mat-option>
      <mat-option value="GUEST_HOUSE"  required >Guest House</mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Guests, Bedrooms, Beds, Bathrooms -->
  <div class="row">
    <mat-form-field appearance="outline">
      <mat-label>Max Guests</mat-label>
      <input matInput type="number" [(ngModel)]="property.maxGuests"   required />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Bedrooms</mat-label>
      <input matInput type="number" [(ngModel)]="property.bedrooms"   required />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Beds</mat-label>
      <input matInput type="number" [(ngModel)]="property.beds"  required  />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Bathrooms</mat-label>
      <input matInput type="number" [(ngModel)]="property.bathrooms"  required />
    </mat-form-field>
  </div>

  <!-- Amenities -->
  <div class="amenities">
    <mat-checkbox [(ngModel)]="property.wifi"  required >WiFi</mat-checkbox>
    <mat-checkbox [(ngModel)]="property.airConditioner"  required >Air Conditioner</mat-checkbox>
    <mat-checkbox [(ngModel)]="property.parking"  required >Parking</mat-checkbox>
    <mat-checkbox [(ngModel)]="property.swimmingPool"  required >Swimming Pool</mat-checkbox>
  </div>

  <!-- Address -->
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Address</mat-label>
    <input matInput [(ngModel)]="property.address" placeholder="Enter address"  required />
  </mat-form-field>

  <div class="row">
    <mat-form-field appearance="outline">
      <mat-label>City</mat-label>
      <input matInput [(ngModel)]="property.city"  required />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Country</mat-label>
      <input matInput [(ngModel)]="property.country"  required/>
    </mat-form-field>
  </div>

  <!-- Prices -->
  <div class="row">
  <mat-form-field appearance="outline">
    <mat-label>Weekday Price</mat-label>
    <div matPrefix>‚Çπ&nbsp;</div>
    <input matInput type="number" [(ngModel)]="property.weekdayPrice" 
           (ngModelChange)="calculateHostEarnings()" min="0" required/>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Weekend Price</mat-label>
    <div matPrefix>‚Çπ&nbsp;</div>
    <input matInput type="number" [(ngModel)]="property.weekendPrice" 
           (ngModelChange)="calculateHostEarnings()" min="0"  required/>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Host Earning Weekday</mat-label>
    <div matPrefix>‚Çπ&nbsp;</div>
    <input matInput type="number" [(ngModel)]="property.hostEarningWeekday" readonly  required/>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Host Earning Weekend</mat-label>
    <div matPrefix>‚Çπ&nbsp;</div>
    <input matInput type="number" [(ngModel)]="property.hostEarningWeekend" readonly  required>
  </mat-form-field>
</div>

  <!-- Map -->
  <div id="map" style="height: 300px; margin-bottom: 16px;"></div>
  <p>Click on the map to select property location. Latitude: {{property.latitude}}, Longitude: {{property.longitude}}</p>

  <!-- Photo Upload -->
  <div class="photo-upload">
    <input type="file" (change)="onFilesSelected($event)" multiple  required/>
    <div class="previews">
      <img *ngFor="let url of previewUrls" [src]="url" alt="Preview" />
    </div>
  </div>

  <!-- Messages -->
  <p *ngIf="message">{{message}}</p>

  <!-- Buttons -->
  <div class="buttons">
    <button mat-raised-button color="primary" (click)="addProperty()" [disabled]="loading">
      {{loading ? 'Adding...' : 'Add Property'}}
    </button>
    <button mat-raised-button color="warn" (click)="goBack()">Back</button>
  </div>
</div>
